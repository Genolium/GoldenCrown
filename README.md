
# GoldenCrown API

GoldenCrown - это RESTful API, имитирующий работу банковской системы. Проект разработан на платформе .NET с использованием Entity Framework Core. 


## Инструкция по запуску

Для запуска проекта необходимо наличие .NET SDK и SQL Server.

1.  **Настройка подключения**: в файле `appsettings.json` отредактируйте строку подключения `DefaultConnection` в соответствии с настройками вашего SQL Server.

2.  **Инициализация базы данных**: примените миграции для создания структуры БД:
    ```bash
    dotnet ef database update
    ```

3.  **Запуск приложения**: выполните команду в корневой директории проекта:
    ```bash
    dotnet run
    ```

После запуска документация API будет доступна по адресу `https://localhost:<PORT>/swagger`.

## Примеры API запросов

Для доступа к финансовым операциям необходимо передать токен авторизации в заголовке запроса:
`Authorization: Bearer <TOKEN>`

**Регистрация пользователя**
`POST /api/user/register`
```json
{
  "login": "user1",
  "name": "Ivanov Ivan",
  "password": "securePassword123"
}
```

**Аутентификация (Получение токена)**
`POST /api/user/login`
```json
{
  "login": "user1",
  "password": "securePassword123"
}
```

**Пополнение счета**
`POST /api/finance/deposit`
```json
{
  "amount": 1000.00
}
```

**Перевод средств**
`POST /api/finance/transfer`
```json
{
  "receiverLogin": "user2",
  "amount": 500.00
}
```

**История транзакций**
`GET /api/finance/history?Limit=10&Offset=0`

## Структура базы данных

Проект использует реляционную базу данных со следующими сущностями:

1.  **Users**: учетные данные пользователей (логин, пароль, имя).
2.  **Accounts**: финансовые счета пользователей.
3.  **Sessions**: активные токены авторизации и время их истечения.
4.  **Transactions**: история финансовых операций (пополнения и переводы).

## Тестирование

В корне репозитория находится файл `GoldenCrown.postman_collection.json`. Импортируйте его в Postman для автоматизированного тестирования всех эндпоинтов. Коллекция содержит скрипты для автоматического сохранения токена авторизации.
