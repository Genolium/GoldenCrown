# GoldenCrown API

GoldenCrown - это RESTful API, имитирующий работу банковской системы. Проект разработан на платформе .NET 10 с использованием Entity Framework Core. Архитектура приложения построена на паттерне **CQRS** с использованием библиотеки **MediatR**.

## Инструкция по запуску

### Docker Compose

Для быстрого развертывания приложения вместе с SQL Server:

1.  Убедитесь, что Docker Desktop запущен.
2.  Выполните команду в корне проекта:
    ```bash
    docker-compose up --build
    ```
3.  API будет доступно по адресу: `http://localhost:7194/swagger`.

## Примеры API запросов

Для доступа к финансовым операциям необходимо передать токен авторизации в заголовке запроса:
`Authorization: Bearer <TOKEN>`

**Регистрация пользователя**
`POST /api/user/register`
```json
{
  "login": "user1",
  "name": "Ivanov Ivan",
  "password": "securePassword123"
}
```

**Аутентификация (Получение токена)**
`POST /api/user/login`
```json
{
  "login": "user1",
  "password": "securePassword123"
}
```

**Пополнение счета**
`POST /api/finance/deposit`
```json
{
  "amount": 1000.00
}
```

**Перевод средств**
`POST /api/finance/transfer`
```json
{
  "receiverLogin": "user2",
  "amount": 500.00
}
```

**История транзакций**
`GET /api/finance/history?Limit=10&Offset=0`


## Структура базы данных

Проект использует реляционную базу данных со следующими сущностями:

1.  **Users**: Учетные данные пользователей (логин, пароль, имя).
2.  **Accounts**: Финансовые счета пользователей.
3.  **Sessions**: Активные токены авторизации и время их истечения.
4.  **Transactions**: История финансовых операций (пополнения и переводы).

## Тестирование

В корне репозитория находится файл `GoldenCrown.postman_collection.json`. Импортируйте его в Postman для автоматизированного тестирования всех эндпоинтов. Коллекция содержит скрипты для автоматического сохранения токена авторизации после входа.